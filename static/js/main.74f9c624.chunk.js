(this.webpackJsonpscreener=this.webpackJsonpscreener||[]).push([[0],{22:function(e,t,n){},23:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var r,c,a,l,i,s,o,j,u=n(1),b=n.n(u),d=n(14),h=n.n(d),O=(n(22),n(6)),x=n(8),p=n(5),f=n(2),v=(n(23),n(3)),g=n(4),m=g.a.textarea(r||(r=Object(v.a)(["\n    height:100px;\n"]))),F=g.a.button(c||(c=Object(v.a)(["\n    width:10%;\n    margin:10px 0 0 0;    \n"]))),k=g.a.div(a||(a=Object(v.a)(["\n    width:100%;\n    display:flex;\n    flex-direction:column;\n"]))),y=n(0),S=function(e){var t=e.value,n=e.setVal,r=e.onSubmit;return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(k,{children:[Object(y.jsx)(m,{value:t,onChange:function(e){return n(e.target.value)},placeholder:"Enter your JSON"}),Object(y.jsx)(F,{onClick:r,children:"Add"})]})})},C=function(e){var t=e.filtersList,n=e.handleChange;return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("select",{name:"value",onChange:n,children:[Object(y.jsx)("option",{value:"",children:"Select"}),t.map((function(e){return Object(y.jsx)("option",{value:e.label,children:e.label})}))]})})},L=function(e){var t=e.rowNum,n=e.label,r=e.value,c=e.checked,a=e.updFilter,l=e.filtersList,i=e.average,s=Object(u.useState)(!1),o=Object(f.a)(s,2),j=o[0],b=o[1],d=function(e){var r=e.target.value,l=e.target.name;"checked"===l&&(r=!c),"operator"===l&&(b("GT"===r||"LT"===r),a(t,"value","GTA"===r||"LTA"===r?Math.round(i.cols[n]/i.len):"")),a(t,l,r),"operator"!==l&&"value"!==l||!r||a(t,"checked",!0)};return Object(y.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"50%",margin:"10px"},children:[Object(y.jsx)("div",{children:Object(y.jsx)("input",{type:"checkbox",onChange:d,name:"checked",checked:c})}),Object(y.jsxs)("div",{style:{width:"33%"},children:[Object(y.jsx)("label",{children:n}),"\xa0"]}),Object(y.jsx)("div",{style:{width:"33%"},children:Object(y.jsxs)("select",{name:"operator",onChange:d,children:[Object(y.jsx)("option",{value:"",children:"Select"}),Object(y.jsx)("option",{value:">",children:"Greater"}),Object(y.jsx)("option",{value:">=",children:"Greater & Equal"}),Object(y.jsx)("option",{value:"<",children:"Less"}),Object(y.jsx)("option",{value:"<=",children:"Less & equal"}),Object(y.jsx)("option",{value:"!=",children:"Not equal"}),Object(y.jsx)("option",{value:"==",children:"Equal"}),Object(y.jsx)("option",{value:"GT",children:"Greater than"}),Object(y.jsx)("option",{value:"LT",children:"Less than"}),Object(y.jsx)("option",{value:"GTA",children:"Greater than AVG"}),Object(y.jsx)("option",{value:"LTA",children:"Less than AVG"})]})}),Object(y.jsx)("div",{style:{width:"33%"},children:j?Object(y.jsx)(C,{filtersList:l,handleChange:d}):Object(y.jsx)("input",{type:"text",placeholder:"Value",name:"value",value:r,onChange:d,autoComplete:"off"})})]})},T=function(e){var t=e.filtersList,n=e.updFilter,r=e.addToSearch,c=e.average;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h5",{children:"Filters:"}),Object(y.jsxs)("div",{className:"filters",children:[t.map((function(e,r){return Object(y.jsx)(L,{average:c,label:e.label,operator:e.operator,value:e.value,checked:e.checked,rowNum:r,updFilter:n,filtersList:t},r)})),Object(y.jsx)("br",{})]}),Object(y.jsx)(F,{onClick:r.bind(null,t),children:"Filter"})]})},w={">":function(e,t){return parseFloat(e)>parseFloat(t)},">=":function(e,t){return parseFloat(e)>=parseFloat(t)},"<":function(e,t){return parseFloat(e)<parseFloat(t)},"<=":function(e,t){return parseFloat(e)<=parseFloat(t)},"!=":function(e,t){return parseFloat(e)!=parseFloat(t)},"==":function(e,t){return parseFloat(e)==parseFloat(t)},GT:function(e,t){return parseFloat(e)>=parseFloat(t)},LT:function(e,t){return parseFloat(e)<=parseFloat(t)},GTA:function(e,t){return parseFloat(e)>=parseFloat(t)},LTA:function(e,t){return parseFloat(e)<=parseFloat(t)}},A=(g.a.table(l||(l=Object(v.a)(["\nborder:1px solid;\n"]))),g.a.div(i||(i=Object(v.a)(["\n    background: skyblue;\n    border-radius:50%;\n    font-size:9px;\n"])))),N=(g.a.th(s||(s=Object(v.a)([""]))),g.a.th(o||(o=Object(v.a)([""]))),function(e){var t=e.stock,n=e.average;console.log("Avg="+JSON.stringify(n)),console.log("stock="+JSON.stringify(t));var r=t.filters,c=Object.keys(r);return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("th",{children:"StockName"}),c.map((function(e){return Object(y.jsxs)("th",{children:[e,Object(y.jsx)(A,{children:Math.round(n.cols[e]/n.len)})]})})),Object(y.jsx)("th",{children:"Matches"}),Object(y.jsx)("th",{children:"Action"})]})}),G=function(e){var t=e.stock,n=e.searchParams,r=e.deleteStock,c=e.rowNum,a=t.Name,l=t.filters,i=Object.keys(l),s=0;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("td",{children:a}),i.map((function(e,t){var r=function(e){var t=n[e];if(t&&w[t.operator]){var r="LT"===t.operator||"GT"===t.operator?l[t.value]||0:t.value,c=w[t.operator](l[e],r)?"greenCol":"redCol";return"greenCol"===c&&s++,c}}(e)||"";return Object(y.jsx)("td",{className:r,children:l[e]})})),Object(y.jsx)("td",{children:s}),Object(y.jsx)("td",{children:Object(y.jsx)("button",{onClick:r.bind(null,c),children:"Delete"})})]})},E=function(e){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("tr",{children:Object(y.jsx)(G,Object(O.a)({},e))})})},J=function(e){var t=e.stocks,n=e.searchParams,r=e.deleteStock,c=e.average;return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("table",{border:"1",children:[Object(y.jsx)("thead",{children:Object(y.jsx)("tr",{children:Object(y.jsx)(N,{average:c,stock:t[0]})})}),Object(y.jsx)("tbody",{children:t.map((function(e,t){return Object(y.jsx)(E,{stock:e,searchParams:n,rowNum:t,deleteStock:r})}))}),Object(y.jsx)("thead",{children:Object(y.jsx)("tr",{bold:"1",children:Object(y.jsx)(N,{average:c,stock:t[0]})})})]})})},P=function(e){var t=e.precentages;return Object(y.jsx)("table",{style:{width:"10rem",textAlign:"left"},children:t.map((function(e){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:e.val}),Object(y.jsxs)("td",{children:[Math.round(e.diff),"%"]})]})}))})},M=function(e){var t=e.label,n=Object(u.useState)(""),r=Object(f.a)(n,2),c=r[0],a=r[1],l=Object(u.useState)([]),i=Object(f.a)(l,2),s=i[0],o=i[1],j=c.split(/\s|%/).filter((function(e){return e})).map((function(e){return e.split(",").join("")}));return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{style:{margin:"0 20px 0 0"},children:[Object(y.jsx)("h6",{children:t}),Object(y.jsx)("input",{type:"text",onChange:function(e){return a(e.target.value)}}),Object(y.jsx)("button",{onClick:function(){var e=j.reduce((function(e,t,n){var r,c,a={diff:0,val:t};return 0===n?[a]:(a.diff=(r=t,c=j[n-1],(r-c)/c*100),[].concat(Object(p.a)(e),[a]))}),[]);console.log(e),o(e)},children:"Calc"}),Object(y.jsx)(P,{precentages:s})]})})},V=function(){var e=Object(u.useState)([]),t=Object(f.a)(e,2),n=t[0],r=t[1];return Object(y.jsxs)("div",{children:[Object(y.jsx)("h5",{children:"Calculate Diff:"}),Object(y.jsx)("button",{onClick:function(){var e=prompt("Enter diff name");e&&r([].concat(Object(p.a)(n),[{CmpName:M,label:e}]))},children:"Add"}),Object(y.jsx)("div",{style:{display:"flex",width:"90%",flexWrap:"wrap"},children:n.map((function(e){var t=e.CmpName,n=e.label;return Object(y.jsx)(t,{label:n})}))})]})},q=g.a.div(j||(j=Object(v.a)(["\nmargin:40px;\nposition:relative;\n"])));var D=function(){var e=Object(u.useState)(""),t=Object(f.a)(e,2),n=t[0],r=t[1],c=Object(u.useState)([]),a=Object(f.a)(c,2),l=a[0],i=a[1],s=Object(u.useState)([]),o=Object(f.a)(s,2),j=o[0],b=o[1],d=Object(u.useState)({}),h=Object(f.a)(d,2),v=h[0],g=h[1],m=Object(u.useState)(0),F=Object(f.a)(m,2),k=F[0],C=F[1],L=Object(u.useState)(0),w=Object(f.a)(L,2),A=w[0],N=w[1];return Object(y.jsxs)(q,{children:[Object(y.jsx)(S,{value:n,setVal:r,onSubmit:function(){try{var e=JSON.parse(n);Array.isArray(e)||(e=[e]),i(e),function(e){if(null===e||void 0===e?void 0:e.length){var t=Object.keys(e[0].filters).map((function(e){return{label:e,value:"",operator:"",checked:!1}}));b(t)}else b([])}(e),function(e){if(Array.isArray(e)&&(null===e||void 0===e?void 0:e.length)){var t={len:e.length,cols:{}};e.forEach((function(e){var n=e.filters;Object.keys(n).forEach((function(e){t.cols[e]=parseFloat(t.cols[e]||0)+parseFloat(n[e]||0)}))})),N(t)}}(e)}catch(t){alert("Invlaid JSON")}}}),l&&l.length>0&&Object(y.jsx)(T,{average:A,filtersList:j,updFilter:function(e,t,n){var r=Object(p.a)(j);r[e][t]=n,b(r)},addToSearch:function(e){var t=0,n=e.reduce((function(e,n){if(n.checked){t++;var r=Object(x.a)({},n.label,{value:n.value,operator:n.operator});return Object(O.a)(Object(O.a)({},e),r)}return e}),{});C(t),g(n)}}),l&&l.length>0&&Object(y.jsxs)("h5",{children:["Filters added: ",k]}),l&&l.length>0&&Object(y.jsx)(J,{average:A,stocks:l,searchParams:v,deleteStock:function(e){var t=[].concat(Object(p.a)(l.slice(0,e)),Object(p.a)(l.slice(e+1)));i(t)}}),Object(y.jsx)(V,{})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,28)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,l=t.getTTFB;n(e),r(e),c(e),a(e),l(e)}))};h.a.render(Object(y.jsx)(b.a.StrictMode,{children:Object(y.jsx)(D,{})}),document.getElementById("root")),I()}},[[27,1,2]]]);
//# sourceMappingURL=main.74f9c624.chunk.js.map