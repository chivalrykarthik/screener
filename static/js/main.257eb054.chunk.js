(this.webpackJsonpscreener=this.webpackJsonpscreener||[]).push([[0],{22:function(e,t,n){},23:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var r,a,c,l,o,i,s,j,u=n(1),b=n.n(u),d=n(14),h=n.n(d),O=(n(22),n(6)),v=n(8),p=n(5),x=n(2),f=(n(23),n(3)),g=n(4),m=g.a.textarea(r||(r=Object(f.a)(["\n    height:100px;\n"]))),k=g.a.button(a||(a=Object(f.a)(["\n    width:10%;\n    margin:10px 0 0 0;    \n"]))),F=g.a.div(c||(c=Object(f.a)(["\n    width:100%;\n    display:flex;\n    flex-direction:column;\n"]))),y=n(0),C=function(e){var t=e.value,n=e.setVal,r=e.onSubmit;return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(F,{children:[Object(y.jsx)(m,{value:t,onChange:function(e){return n(e.target.value)},placeholder:"Enter your JSON"}),Object(y.jsx)(k,{onClick:r,children:"Add"})]})})},S=function(e){var t=e.filtersList,n=e.handleChange;return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("select",{name:"value",onChange:n,children:[Object(y.jsx)("option",{value:"",children:"Select"}),t.map((function(e){return Object(y.jsx)("option",{value:e.label,children:e.label})}))]})})},A=function(e){var t=e.rowNum,n=e.label,r=e.value,a=e.checked,c=e.updFilter,l=e.filtersList,o=e.average,i=Object(u.useState)(!1),s=Object(x.a)(i,2),j=s[0],b=s[1],d=function(e){var r=e.target.value,l=e.target.name;"checked"===l&&(r=!a),"operator"===l&&(b("GT"===r||"LT"===r),c(t,"value","GTA"===r||"LTA"===r?Math.round(o[n].val/o[n].len):"")),c(t,l,r),"operator"!==l&&"value"!==l||!r||c(t,"checked",!0)};return Object(y.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"50%",margin:"10px"},children:[Object(y.jsx)("div",{children:Object(y.jsx)("input",{type:"checkbox",onChange:d,name:"checked",checked:a})}),Object(y.jsxs)("div",{style:{width:"33%"},children:[Object(y.jsx)("label",{children:n}),"\xa0"]}),Object(y.jsx)("div",{style:{width:"33%"},children:Object(y.jsxs)("select",{name:"operator",onChange:d,children:[Object(y.jsx)("option",{value:"",children:"Select"}),Object(y.jsx)("option",{value:">",children:"Greater"}),Object(y.jsx)("option",{value:">=",children:"Greater & Equal"}),Object(y.jsx)("option",{value:"<",children:"Less"}),Object(y.jsx)("option",{value:"<=",children:"Less & equal"}),Object(y.jsx)("option",{value:"!=",children:"Not equal"}),Object(y.jsx)("option",{value:"==",children:"Equal"}),Object(y.jsx)("option",{value:"GT",children:"Greater than"}),Object(y.jsx)("option",{value:"LT",children:"Less than"}),Object(y.jsx)("option",{value:"GTA",children:"Greater than AVG"}),Object(y.jsx)("option",{value:"LTA",children:"Less than AVG"})]})}),Object(y.jsx)("div",{style:{width:"33%"},children:j?Object(y.jsx)(S,{filtersList:l,handleChange:d}):Object(y.jsx)("input",{type:"text",placeholder:"Value",name:"value",value:r,onChange:d,autoComplete:"off"})})]})},L=function(e){var t=e.filtersList,n=e.updFilter,r=e.addToSearch,a=e.average;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h5",{children:"Filters:"}),Object(y.jsxs)("div",{className:"filters",children:[t.map((function(e,r){return Object(y.jsx)(A,{average:a,label:e.label,operator:e.operator,value:e.value,checked:e.checked,rowNum:r,updFilter:n,filtersList:t},r)})),Object(y.jsx)("br",{})]}),Object(y.jsx)(k,{onClick:r.bind(null,t),children:"Filter"})]})},w={">":function(e,t){return parseFloat(e)>parseFloat(t)},">=":function(e,t){return parseFloat(e)>=parseFloat(t)},"<":function(e,t){return parseFloat(e)<parseFloat(t)},"<=":function(e,t){return parseFloat(e)<=parseFloat(t)},"!=":function(e,t){return parseFloat(e)!=parseFloat(t)},"==":function(e,t){return parseFloat(e)==parseFloat(t)},GT:function(e,t){return parseFloat(e)>=parseFloat(t)},LT:function(e,t){return parseFloat(e)<=parseFloat(t)},GTA:function(e,t){return parseFloat(e)>=parseFloat(t)},LTA:function(e,t){return parseFloat(e)<=parseFloat(t)}},T=(g.a.table(l||(l=Object(f.a)(["\nborder:1px solid;\n"]))),g.a.div(o||(o=Object(f.a)(["\n    background: skyblue;\n    border-radius:50%;\n    font-size:9px;\n"])))),N=(g.a.th(i||(i=Object(f.a)([""]))),g.a.th(s||(s=Object(f.a)([""]))),function(e){var t=e.stock,n=e.average,r=t.filters,a=Object.keys(r);return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("th",{children:"StockName"}),a.map((function(e){return Object(y.jsxs)("th",{children:[e,Object(y.jsx)(T,{children:Math.round(n[e].val/n[e].len)})]})})),Object(y.jsx)("th",{children:"Matches"}),Object(y.jsx)("th",{children:"Action"})]})}),G=function(e){var t=e.stock,n=e.searchParams,r=e.deleteStock,a=e.rowNum,c=e.filtersCnt,l=e.updAvg,o=t.Name,i=t.filters,s=Object.keys(i),j=0,u=function(e){var t=e.target,n=t.checked,r=t.value,a=t.name;n?(console.log("sub=====name:".concat(a,"=====value:").concat(r)),l("sub",a,r)):(console.log("add=====name:".concat(a,"=====value:").concat(r)),l("add",a,r))};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("td",{children:o}),s.map((function(e,t){var r=function(e){var t=n[e];if(t&&w[t.operator]){var r="LT"===t.operator||"GT"===t.operator?i[t.value]||0:t.value,a=w[t.operator](i[e],r)?"greenCol":"redCol";return"greenCol"===a&&j++,a}}(e)||"";return Object(y.jsxs)("td",{className:r,children:[Object(y.jsx)("input",{type:"checkbox",name:e,value:i[e],onChange:u}),i[e]]})})),Object(y.jsx)("td",{style:function(e){if(!(c<=0)){var t=e/c*100;return t>=90?{background:"green",color:"rgb(255,255,255)"}:t>=80?{background:"lightgreen",color:"rgb(255,255,255)"}:t>=70?{background:"skyblue",color:"rgb(255,255,255)"}:t>=60?{background:"orange",color:"rgb(255,255,255)"}:t>=50?{background:"yellow",color:"rgb(255,255,255)"}:{background:"red",color:"rgb(255,255,255)"}}}(j),children:j}),Object(y.jsx)("td",{children:Object(y.jsx)("button",{onClick:r.bind(null,a),children:"Delete"})})]})},E=function(e){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("tr",{children:Object(y.jsx)(G,Object(O.a)({},e))})})},J=function(e){var t=e.stocks,n=e.searchParams,r=e.deleteStock,a=e.average,c=e.filtersCnt,l=e.updAvg;return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("table",{border:"1",children:[Object(y.jsx)("thead",{children:Object(y.jsx)("tr",{children:Object(y.jsx)(N,{average:a,stock:t[0]})})}),Object(y.jsx)("tbody",{children:t.map((function(e,t){return Object(y.jsx)(E,{updAvg:l,filtersCnt:c,stock:e,searchParams:n,rowNum:t,deleteStock:r})}))}),Object(y.jsx)("thead",{children:Object(y.jsx)("tr",{bold:"1",children:Object(y.jsx)(N,{average:a,stock:t[0]})})})]})})},P=function(e){var t=e.precentages;return Object(y.jsx)("table",{style:{width:"10rem",textAlign:"left"},children:t.map((function(e){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:e.val}),Object(y.jsxs)("td",{children:[Math.round(e.diff),"%"]})]})}))})},M=function(e){var t=e.label,n=Object(u.useState)(""),r=Object(x.a)(n,2),a=r[0],c=r[1],l=Object(u.useState)([]),o=Object(x.a)(l,2),i=o[0],s=o[1],j=a.split(/\s|%/).filter((function(e){return e})).map((function(e){return e.split(",").join("")}));return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{style:{margin:"0 20px 0 0"},children:[Object(y.jsx)("h6",{children:t}),Object(y.jsx)("input",{type:"text",onChange:function(e){return c(e.target.value)}}),Object(y.jsx)("button",{onClick:function(){var e=j.reduce((function(e,t,n){var r,a,c={diff:0,val:t};return 0===n?[c]:(c.diff=(r=t,a=j[n-1],(r-a)/a*100),[].concat(Object(p.a)(e),[c]))}),[]);console.log(e),s(e)},children:"Calc"}),Object(y.jsx)(P,{precentages:i})]})})},V=function(){var e=Object(u.useState)([]),t=Object(x.a)(e,2),n=t[0],r=t[1];return Object(y.jsxs)("div",{children:[Object(y.jsx)("h5",{children:"Calculate Diff:"}),Object(y.jsx)("button",{onClick:function(){var e=prompt("Enter diff name");e&&r([].concat(Object(p.a)(n),[{CmpName:M,label:e}]))},children:"Add"}),Object(y.jsx)("div",{style:{display:"flex",width:"90%",flexWrap:"wrap"},children:n.map((function(e){var t=e.CmpName,n=e.label;return Object(y.jsx)(t,{label:n})}))})]})},q=g.a.div(j||(j=Object(f.a)(["\nmargin:40px;\nposition:relative;\n"])));var D=function(){var e=Object(u.useState)(""),t=Object(x.a)(e,2),n=t[0],r=t[1],a=Object(u.useState)([]),c=Object(x.a)(a,2),l=c[0],o=c[1],i=Object(u.useState)([]),s=Object(x.a)(i,2),j=s[0],b=s[1],d=Object(u.useState)({}),h=Object(x.a)(d,2),f=h[0],g=h[1],m=Object(u.useState)(0),k=Object(x.a)(m,2),F=k[0],S=k[1],A=Object(u.useState)(0),w=Object(x.a)(A,2),T=w[0],N=w[1];return Object(y.jsxs)(q,{children:[Object(y.jsx)(C,{value:n,setVal:r,onSubmit:function(){try{var e=JSON.parse(n);Array.isArray(e)||(e=[e]),o(e),function(e){if(null===e||void 0===e?void 0:e.length){var t=Object.keys(e[0].filters).map((function(e){return{label:e,value:"",operator:"",checked:!1}}));b(t)}else b([])}(e),function(e){if(Array.isArray(e)&&(null===e||void 0===e?void 0:e.length)){var t={};e.forEach((function(n){var r=n.filters;Object.keys(r).forEach((function(n){var a;t[n]={val:parseFloat((null===(a=t[n])||void 0===a?void 0:a.val)||0)+parseFloat(r[n]||0),len:e.length}}))})),N(t)}}(e)}catch(t){alert("Invlaid JSON")}}}),l&&l.length>0&&Object(y.jsx)(L,{average:T,filtersList:j,updFilter:function(e,t,n){var r=Object(p.a)(j);r[e][t]=n,b(r)},addToSearch:function(e){var t=0,n=e.reduce((function(e,n){if(n.checked){t++;var r=Object(v.a)({},n.label,{value:n.value,operator:n.operator});return Object(O.a)(Object(O.a)({},e),r)}return e}),{});S(t),g(n)}}),l&&l.length>0&&Object(y.jsxs)("h5",{children:["Filters added: ",F]}),l&&l.length>0&&Object(y.jsx)(J,{updAvg:function(e,t,n){var r=JSON.parse(JSON.stringify(T));r[t].val="sub"===e?r[t].val-n:parseFloat(r[t].val)+parseFloat(n),r[t].len="sub"===e?r[t].len-1:parseFloat(r[t].len)+1,N(r)},average:T,stocks:l,searchParams:f,deleteStock:function(e){var t=[].concat(Object(p.a)(l.slice(0,e)),Object(p.a)(l.slice(e+1)));o(t)},filtersCnt:F}),Object(y.jsx)(V,{})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,28)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,l=t.getTTFB;n(e),r(e),a(e),c(e),l(e)}))};h.a.render(Object(y.jsx)(b.a.StrictMode,{children:Object(y.jsx)(D,{})}),document.getElementById("root")),I()}},[[27,1,2]]]);
//# sourceMappingURL=main.257eb054.chunk.js.map