(this.webpackJsonpscreener=this.webpackJsonpscreener||[]).push([[0],{22:function(e,t,r){},23:function(e,t,r){},27:function(e,t,r){"use strict";r.r(t);var n,c,a,l,i,o,s,j,u=r(1),b=r.n(u),d=r(14),h=r.n(d),O=(r(22),r(6)),f=r(8),x=r(5),p=r(2),v=(r(23),r(3)),g=r(4),m=g.a.textarea(n||(n=Object(v.a)(["\n    height:100px;\n"]))),k=g.a.button(c||(c=Object(v.a)(["\n    width:10%;\n    margin:10px 0 0 0;    \n"]))),F=g.a.div(a||(a=Object(v.a)(["\n    width:100%;\n    display:flex;\n    flex-direction:column;\n"]))),y=r(0),C=function(e){var t=e.value,r=e.setVal,n=e.onSubmit;return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(F,{children:[Object(y.jsx)(m,{value:t,onChange:function(e){return r(e.target.value)},placeholder:"Enter your JSON"}),Object(y.jsx)(k,{onClick:n,children:"Add"})]})})},S=function(e){var t=e.filtersList,r=e.handleChange;return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("select",{name:"value",onChange:r,children:[Object(y.jsx)("option",{value:"",children:"Select"}),t.map((function(e){return Object(y.jsx)("option",{value:e.label,children:e.label})}))]})})},L=function(e){var t=e.rowNum,r=e.label,n=e.value,c=e.checked,a=e.updFilter,l=e.filtersList,i=e.average,o=Object(u.useState)(!1),s=Object(p.a)(o,2),j=s[0],b=s[1],d=function(e){var n=e.target.value,l=e.target.name;"checked"===l&&(n=!c),"operator"===l&&(b("GT"===n||"LT"===n),a(t,"value","GTA"===n||"LTA"===n?Math.round(i.cols[r]/i.len):"")),a(t,l,n),"operator"!==l&&"value"!==l||!n||a(t,"checked",!0)};return Object(y.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"50%",margin:"10px"},children:[Object(y.jsx)("div",{children:Object(y.jsx)("input",{type:"checkbox",onChange:d,name:"checked",checked:c})}),Object(y.jsxs)("div",{style:{width:"33%"},children:[Object(y.jsx)("label",{children:r}),"\xa0"]}),Object(y.jsx)("div",{style:{width:"33%"},children:Object(y.jsxs)("select",{name:"operator",onChange:d,children:[Object(y.jsx)("option",{value:"",children:"Select"}),Object(y.jsx)("option",{value:">",children:"Greater"}),Object(y.jsx)("option",{value:">=",children:"Greater & Equal"}),Object(y.jsx)("option",{value:"<",children:"Less"}),Object(y.jsx)("option",{value:"<=",children:"Less & equal"}),Object(y.jsx)("option",{value:"!=",children:"Not equal"}),Object(y.jsx)("option",{value:"==",children:"Equal"}),Object(y.jsx)("option",{value:"GT",children:"Greater than"}),Object(y.jsx)("option",{value:"LT",children:"Less than"}),Object(y.jsx)("option",{value:"GTA",children:"Greater than AVG"}),Object(y.jsx)("option",{value:"LTA",children:"Less than AVG"})]})}),Object(y.jsx)("div",{style:{width:"33%"},children:j?Object(y.jsx)(S,{filtersList:l,handleChange:d}):Object(y.jsx)("input",{type:"text",placeholder:"Value",name:"value",value:n,onChange:d,autoComplete:"off"})})]})},w=function(e){var t=e.filtersList,r=e.updFilter,n=e.addToSearch,c=e.average;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h5",{children:"Filters:"}),Object(y.jsxs)("div",{className:"filters",children:[t.map((function(e,n){return Object(y.jsx)(L,{average:c,label:e.label,operator:e.operator,value:e.value,checked:e.checked,rowNum:n,updFilter:r,filtersList:t},n)})),Object(y.jsx)("br",{})]}),Object(y.jsx)(k,{onClick:n.bind(null,t),children:"Filter"})]})},T={">":function(e,t){return parseFloat(e)>parseFloat(t)},">=":function(e,t){return parseFloat(e)>=parseFloat(t)},"<":function(e,t){return parseFloat(e)<parseFloat(t)},"<=":function(e,t){return parseFloat(e)<=parseFloat(t)},"!=":function(e,t){return parseFloat(e)!=parseFloat(t)},"==":function(e,t){return parseFloat(e)==parseFloat(t)},GT:function(e,t){return parseFloat(e)>=parseFloat(t)},LT:function(e,t){return parseFloat(e)<=parseFloat(t)},GTA:function(e,t){return parseFloat(e)>=parseFloat(t)},LTA:function(e,t){return parseFloat(e)<=parseFloat(t)}},A=(g.a.table(l||(l=Object(v.a)(["\nborder:1px solid;\n"]))),g.a.div(i||(i=Object(v.a)(["\n    background: skyblue;\n    border-radius:50%;\n    font-size:9px;\n"])))),N=(g.a.th(o||(o=Object(v.a)([""]))),g.a.th(s||(s=Object(v.a)([""]))),function(e){var t=e.stock,r=e.average;console.log("Avg="+JSON.stringify(r)),console.log("stock="+JSON.stringify(t));var n=t.filters,c=Object.keys(n);return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("th",{children:"StockName"}),c.map((function(e){return Object(y.jsxs)("th",{children:[e,Object(y.jsx)(A,{children:Math.round(r.cols[e]/r.len)})]})})),Object(y.jsx)("th",{children:"Matches"}),Object(y.jsx)("th",{children:"Action"})]})}),G=function(e){var t=e.stock,r=e.searchParams,n=e.deleteStock,c=e.rowNum,a=e.filtersCnt,l=t.Name,i=t.filters,o=Object.keys(i),s=0;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("td",{children:l}),o.map((function(e,t){var n=function(e){var t=r[e];if(t&&T[t.operator]){var n="LT"===t.operator||"GT"===t.operator?i[t.value]||0:t.value,c=T[t.operator](i[e],n)?"greenCol":"redCol";return"greenCol"===c&&s++,c}}(e)||"";return Object(y.jsx)("td",{className:n,children:i[e]})})),Object(y.jsx)("td",{style:function(e){if(!(a<=0)){var t=e/a*100;return t>=90?{background:"green",color:"rgb(255,255,255)"}:t>=80?{background:"lightgreen",color:"rgb(255,255,255)"}:t>=70?{background:"skyblue",color:"rgb(255,255,255)"}:t>=60?{background:"orange",color:"rgb(255,255,255)"}:t>=50?{background:"yellow",color:"rgb(255,255,255)"}:{background:"red",color:"rgb(255,255,255)"}}}(s),children:s}),Object(y.jsx)("td",{children:Object(y.jsx)("button",{onClick:n.bind(null,c),children:"Delete"})})]})},E=function(e){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("tr",{children:Object(y.jsx)(G,Object(O.a)({},e))})})},J=function(e){var t=e.stocks,r=e.searchParams,n=e.deleteStock,c=e.average,a=e.filtersCnt;return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("table",{border:"1",children:[Object(y.jsx)("thead",{children:Object(y.jsx)("tr",{children:Object(y.jsx)(N,{average:c,stock:t[0]})})}),Object(y.jsx)("tbody",{children:t.map((function(e,t){return Object(y.jsx)(E,{filtersCnt:a,stock:e,searchParams:r,rowNum:t,deleteStock:n})}))}),Object(y.jsx)("thead",{children:Object(y.jsx)("tr",{bold:"1",children:Object(y.jsx)(N,{average:c,stock:t[0]})})})]})})},P=function(e){var t=e.precentages;return Object(y.jsx)("table",{style:{width:"10rem",textAlign:"left"},children:t.map((function(e){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:e.val}),Object(y.jsxs)("td",{children:[Math.round(e.diff),"%"]})]})}))})},M=function(e){var t=e.label,r=Object(u.useState)(""),n=Object(p.a)(r,2),c=n[0],a=n[1],l=Object(u.useState)([]),i=Object(p.a)(l,2),o=i[0],s=i[1],j=c.split(/\s|%/).filter((function(e){return e})).map((function(e){return e.split(",").join("")}));return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{style:{margin:"0 20px 0 0"},children:[Object(y.jsx)("h6",{children:t}),Object(y.jsx)("input",{type:"text",onChange:function(e){return a(e.target.value)}}),Object(y.jsx)("button",{onClick:function(){var e=j.reduce((function(e,t,r){var n,c,a={diff:0,val:t};return 0===r?[a]:(a.diff=(n=t,c=j[r-1],(n-c)/c*100),[].concat(Object(x.a)(e),[a]))}),[]);console.log(e),s(e)},children:"Calc"}),Object(y.jsx)(P,{precentages:o})]})})},V=function(){var e=Object(u.useState)([]),t=Object(p.a)(e,2),r=t[0],n=t[1];return Object(y.jsxs)("div",{children:[Object(y.jsx)("h5",{children:"Calculate Diff:"}),Object(y.jsx)("button",{onClick:function(){var e=prompt("Enter diff name");e&&n([].concat(Object(x.a)(r),[{CmpName:M,label:e}]))},children:"Add"}),Object(y.jsx)("div",{style:{display:"flex",width:"90%",flexWrap:"wrap"},children:r.map((function(e){var t=e.CmpName,r=e.label;return Object(y.jsx)(t,{label:r})}))})]})},q=g.a.div(j||(j=Object(v.a)(["\nmargin:40px;\nposition:relative;\n"])));var D=function(){var e=Object(u.useState)(""),t=Object(p.a)(e,2),r=t[0],n=t[1],c=Object(u.useState)([]),a=Object(p.a)(c,2),l=a[0],i=a[1],o=Object(u.useState)([]),s=Object(p.a)(o,2),j=s[0],b=s[1],d=Object(u.useState)({}),h=Object(p.a)(d,2),v=h[0],g=h[1],m=Object(u.useState)(0),k=Object(p.a)(m,2),F=k[0],S=k[1],L=Object(u.useState)(0),T=Object(p.a)(L,2),A=T[0],N=T[1];return Object(y.jsxs)(q,{children:[Object(y.jsx)(C,{value:r,setVal:n,onSubmit:function(){try{var e=JSON.parse(r);Array.isArray(e)||(e=[e]),i(e),function(e){if(null===e||void 0===e?void 0:e.length){var t=Object.keys(e[0].filters).map((function(e){return{label:e,value:"",operator:"",checked:!1}}));b(t)}else b([])}(e),function(e){if(Array.isArray(e)&&(null===e||void 0===e?void 0:e.length)){var t={len:e.length,cols:{}};e.forEach((function(e){var r=e.filters;Object.keys(r).forEach((function(e){t.cols[e]=parseFloat(t.cols[e]||0)+parseFloat(r[e]||0)}))})),N(t)}}(e)}catch(t){alert("Invlaid JSON")}}}),l&&l.length>0&&Object(y.jsx)(w,{average:A,filtersList:j,updFilter:function(e,t,r){var n=Object(x.a)(j);n[e][t]=r,b(n)},addToSearch:function(e){var t=0,r=e.reduce((function(e,r){if(r.checked){t++;var n=Object(f.a)({},r.label,{value:r.value,operator:r.operator});return Object(O.a)(Object(O.a)({},e),n)}return e}),{});S(t),g(r)}}),l&&l.length>0&&Object(y.jsxs)("h5",{children:["Filters added: ",F]}),l&&l.length>0&&Object(y.jsx)(J,{average:A,stocks:l,searchParams:v,deleteStock:function(e){var t=[].concat(Object(x.a)(l.slice(0,e)),Object(x.a)(l.slice(e+1)));i(t)},filtersCnt:F}),Object(y.jsx)(V,{})]})},I=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,28)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,l=t.getTTFB;r(e),n(e),c(e),a(e),l(e)}))};h.a.render(Object(y.jsx)(b.a.StrictMode,{children:Object(y.jsx)(D,{})}),document.getElementById("root")),I()}},[[27,1,2]]]);
//# sourceMappingURL=main.545d18d4.chunk.js.map