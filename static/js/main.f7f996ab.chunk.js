(this.webpackJsonpscreener=this.webpackJsonpscreener||[]).push([[0],{125:function(e,t,n){},169:function(module,__webpack_exports__,__webpack_require__){"use strict";var E_node_js_applications_screener_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_store__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24),_view_TblView__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(62),_constants__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(53),_bestPick_Style__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(39),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__),round5=function(e){e||(e=0);var t=e<0?Math.abs(e):Number(e),n=t%5,r=n>=3?t+(5-n):t-n;return Number(e<0?-r:r)},addRank=function(e,t){for(var n=t,r=function(e,t){return isNaN(parseFloat(e))?(console.log("val==="+e),t?1/0:-1/0):e},c=function(t){var c=n[t].split("#"),a=c[0],s=c.length>1;e.stocks.sort((function(e,t){return s&&(e.filters[a]>0&&t.filters[a]>0||_constants__WEBPACK_IMPORTED_MODULE_4__.a.includes(a))?(n=e.filters[a],c=t.filters[a],r(parseFloat(n),!0)-r(parseFloat(c),!0)):function(e,t){return r(parseFloat(t),!1)-r(parseFloat(e),!1)}(e.filters[a],t.filters[a]);var n,c}));for(var i=0;i<e.stocks.length;i++)e.stocks[i].filters.Rank=(e.stocks[i].filters.Rank||0)+(i+1),e.stocks[i].filters[a+"Rank"]=i+1},a=0;a<n.length;a++)c(a);return e},sortStocks=function sortStocks(stocks,sortByCol,avg){var asc=function(e,t,n){return n?round5(e)-round5(t):e-t},desc=function(e,t,n){return n?round5(t)-round5(e):t-e};return stocks.sort((function(a,b){var res=sortByCol.map((function(e){var t=_constants__WEBPACK_IMPORTED_MODULE_4__.b[e];return t.cols.map((function(e){return avg[e]&&(avg[e].rm.includes(parseFloat(a.filters[e]))||avg[e].rm.includes(parseFloat(b.filters[e])))?0:"asc"===t.order?asc(a.filters[e],b.filters[e]):desc(a.filters[e],b.filters[e])})).join("||")})).join("||");return eval(res)}))},SortedStocks=function(){var e=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),t=Object(E_node_js_applications_screener_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(e,2),n=t[0],r=t[1],c=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(_constants__WEBPACK_IMPORTED_MODULE_4__.c),a=Object(E_node_js_applications_screener_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(c,2),s=a[0],i=a[1],o=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(_constants__WEBPACK_IMPORTED_MODULE_4__.c),l=Object(E_node_js_applications_screener_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(o,2),j=l[0],u=l[1],O=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(_constants__WEBPACK_IMPORTED_MODULE_4__.d),b=Object(E_node_js_applications_screener_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(O,2),_=b[0],d=b[1],h=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(_constants__WEBPACK_IMPORTED_MODULE_4__.d),p=Object(E_node_js_applications_screener_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(h,2),f=p[0],v=p[1],x=Object(_store__WEBPACK_IMPORTED_MODULE_2__.b)(),E=Object(E_node_js_applications_screener_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(x,1)[0],P=JSON.parse(JSON.stringify(E)),m=addRank(P,f),g=sortStocks(m.stocks,j,m.average);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("button",{onClick:function(e){return r(!n)},children:"Sort"}),n&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_bestPick_Style__WEBPACK_IMPORTED_MODULE_5__.d,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_bestPick_Style__WEBPACK_IMPORTED_MODULE_5__.b,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_bestPick_Style__WEBPACK_IMPORTED_MODULE_5__.c,{onClick:function(e){return r(!n)},children:"X"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_bestPick_Style__WEBPACK_IMPORTED_MODULE_5__.a,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("input",{type:"text",value:s,onChange:function(e){return i(e.target.value)}})," ",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("button",{onClick:function(){return u(Array.isArray(s)?s:s.split(","))},children:"Sort"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("input",{type:"text",value:_,onChange:function(e){return d(e.target.value)}})," ",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("button",{onClick:function(){return v(Array.isArray(_)?_:_.split(","))},children:"Rank"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_view_TblView__WEBPACK_IMPORTED_MODULE_3__.a,{average:m.average,stocks:g,dispatch:function(){},filtersCnt:m.filtersCnt,searchParams:m.searchParams,compare:m.compare})]})})]})})]})};__webpack_exports__.a=SortedStocks},195:function(e,t,n){},198:function(e,t,n){},22:function(e,t,n){"use strict";t.a={ADD_TEXT:"ADD_TEXT",ADD_STOCKS:"ADD_STOCKS",ADD_FILTERS:"ADD_FILTERS",ADD_AVG:"ADD_AVG",ADD_SEARCH:"ADD_SEARCH",UPD_FILTERS:"UPD_FILTERS",UPD_AVG:"UPD_AVG",DELETE_STOCK:"DELETE_STOCK",DELETE_STOCKS:"DELETE_STOCKS",UPD_HIGH_AVG:"UPD_HIGH_AVG",UPD_LOW_AVG:"UPD_LOW_AVG",UPD_MAX_PER:"UPD_MAX_PER",UPD_STOCKS:"UPD_STOCKS",ADD_TO_COMPARE:"ADD_TO_COMPARE"}},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return O}));var r=n(1),c=n(30),a=n(12),s=n(31),i={txt:"",highAvg:100,lowAvg:100,maxPer:10,stocks:[],filtersList:[],average:{},searchParams:{},filtersCnt:0,compare:[]},o=function(e,t){var n,r=t.type,i=t.data;switch(r){case"ADD_TEXT":return Object(a.a)(Object(a.a)({},e),{},{txt:i.txt});case"ADD_STOCKS":var o=Object(s.g)(e.txt);return Object(a.a)(Object(a.a)({},e),{},(n={stocks:o,filtersList:[]},Object(c.a)(n,"filtersList",[]),Object(c.a)(n,"average",{}),Object(c.a)(n,"searchParams",{}),Object(c.a)(n,"filtersCnt",0),n));case"ADD_FILTERS":var l=Object(s.b)(e.stocks);return Object(a.a)(Object(a.a)({},e),{},{filtersList:l});case"ADD_AVG":var j=Object(s.f)(e.stocks,e.maxPer,e.highAvg,e.lowAvg);return Object(a.a)(Object(a.a)({},e),{},{average:j});case"ADD_SEARCH":var u=Object(s.a)(e.filtersList),O=u.cnt,b=u.searchObj;return Object(a.a)(Object(a.a)({},e),{},{searchParams:b,filtersCnt:O});case"UPD_FILTERS":var _=Object(s.i)(e.filtersList,i.key,i.col,i.value);return Object(a.a)(Object(a.a)({},e),{},{filtersList:_});case"UPD_AVG":var d=Object(s.h)(Object(a.a)(Object(a.a)({},i),{},{average:e.average}));return Object(a.a)(Object(a.a)({},e),{},{average:d});case"DELETE_STOCK":var h=Object(s.c)(i.key,e.stocks);return Object(a.a)(Object(a.a)({},e),{},{stocks:h});case"DELETE_STOCKS":var p=Object(s.d)(i.key,e.stocks);return Object(a.a)(Object(a.a)({},e),{},{stocks:p});case"UPD_HIGH_AVG":return Object(a.a)(Object(a.a)({},e),{},{highAvg:i.value});case"UPD_LOW_AVG":return Object(a.a)(Object(a.a)({},e),{},{lowAvg:i.value});case"UPD_MAX_PER":return Object(a.a)(Object(a.a)({},e),{},{maxPer:i.value});case"UPD_STOCKS":return Object(a.a)(Object(a.a)({},e),{},{stocks:i.stocks});case"ADD_TO_COMPARE":return Object(a.a)(Object(a.a)({},e),{},{compare:i.compare});default:return e}},l=n(0),j=Object(r.createContext)({}),u=function(e){var t=e.children,n=Object(r.useReducer)(o,i);return Object(l.jsx)(j.Provider,{value:n,children:t})},O=function(){return Object(r.useContext)(j)}},31:function(e,t,n){"use strict";n.d(t,"g",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"a",(function(){return l})),n.d(t,"i",(function(){return j})),n.d(t,"h",(function(){return u})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return _}));var r=n(3),c=n(12),a=n(30),s=function(e){try{var t=JSON.parse(e);return Array.isArray(t)||(t=[t]),t.forEach((function(e,n){return t[n].id=n+1})),t}catch(n){alert("Invlaid JSON")}},i=function(e){return(null===e||void 0===e?void 0:e.length)?Object.keys(e[0].filters).map((function(e){return{label:e,value:"",operator:"",checked:!1,exclude:[]}})):[]},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;if(Array.isArray(e)&&(null===e||void 0===e?void 0:e.length)){var c={},a={};return e.forEach((function(e){var t=e.filters;Object.keys(t).forEach((function(e){var n,r,s,i=parseFloat((null===(n=c[e])||void 0===n?void 0:n.val)||0)+parseFloat(t[e]||0),o=""!=t[e]?((null===(r=c[e])||void 0===r?void 0:r.len)||0)+1:null===(s=c[e])||void 0===s?void 0:s.len;""!=t[e]&&(a[e]=(a[e]||[]).concat(parseFloat(t[e]))),c[e]={val:i,len:o}}))})),Object.keys(a).forEach((function(e){a[e].sort((function(e,t){return e-t}));var s=h(a[e],t,n,r);s.forEach((function(t){c[e].val-=t,c[e].len--})),c[e].rm=s})),c}},l=function(e){var t=0,n=e.reduce((function(e,n){if(n.checked){t++;var r=Object(a.a)({},n.label,{value:n.value,operator:n.operator});return Object(c.a)(Object(c.a)({},e),r)}return e}),{});return{cnt:t,searchObj:n}},j=function(e,t,n,c){var a=Object(r.a)(e);return a[t][n]=c,a},u=function(e){var t=e.updType,n=e.filter,r=e.num,c=e.average,a=parseFloat(r)||0,s=JSON.parse(JSON.stringify(c));return s[n].val="sub"===t?s[n].val-a:parseFloat(s[n].val)+a,s[n].len="sub"===t?s[n].len-1:parseFloat(s[n].len)+1,s},O=function(e,t){return[].concat(Object(r.a)(t.slice(0,e)),Object(r.a)(t.slice(e+1)))},b=function(e,t){return t.reduce((function(t,n){return e.includes(n.id)?t:[].concat(Object(r.a)(t),[n])}),[])},_=function(e,t){return(e-t)/t*100},d=function(e){return e.reduce((function(t,n,c){var a={diff:0,val:n};return 0===c?[a]:(a.diff=_(n,e[c-1]),[].concat(Object(r.a)(t),[a]))}),[])},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;e.sort((function(e,t){return e-t}));var a=e.length,s=Math.ceil(a/100*t),i=e.slice(0,s).reverse(),o=e.slice(a-s),l=d(i),j=d(o),u=l.findIndex((function(e){return e.diff>c})),O=j.findIndex((function(e){return e.diff>n})),b=[].concat(Object(r.a)(u>-1?i.slice(u):[]),Object(r.a)(O>-1?o.slice(O):[]));return b}},350:function(e,t,n){"use strict";n.r(t);var r,c,a,s,i,o,l,j,u=n(1),O=n.n(u),b=n(92),_=n.n(b),d=(n(195),n(4)),h=(n(125),n(18)),p=n(19),f=p.a.div(r||(r=Object(h.a)(["\nmargin:",";\nposition: relative;\n"])),(function(e){return e.showChart?"0":"0 40px 40px 40px"})),v=p.a.div(c||(c=Object(h.a)(["\ndisplay: flex;\njustify-content:space-between;\nmargin: 10px 40px 10px 40px;\nfont-weight:bold;\n"]))),x=n(24),E=p.a.textarea(a||(a=Object(h.a)(["\n    height:100px;\n"]))),P=p.a.button(s||(s=Object(h.a)(["\n    width:10%;\n    margin:10px 0 0 0;    \n"]))),m=p.a.div(i||(i=Object(h.a)(["\n    width:100%;\n    display:flex;\n    flex-direction:column;\n"]))),g=p.a.div(o||(o=Object(h.a)(["\nmargin: 5px 0 0 0;\ninput{\n    margin:0 5px 0 5px;\n}\nlabel{\n    font-weight:bold;\n    font-size:0.9rem;\n}\n\n"]))),D=n(22),A=n(0),C=function(){var e=Object(x.b)(),t=Object(d.a)(e,2),n=t[0],r=t[1],c=n.txt,a=function(e){var t,n=e.target.value,c=e.target.name;t="highAvg"===c?D.a.UPD_HIGH_AVG:"maxPer"===c?D.a.UPD_MAX_PER:D.a.UPD_LOW_AVG,r({data:{value:n},type:t})};return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(m,{children:[Object(A.jsx)(E,{value:c,onChange:function(e){var t=e.target.value,n=D.a.ADD_TEXT;r({data:{txt:t},type:n})},placeholder:"Enter your JSON"}),Object(A.jsxs)(g,{children:[Object(A.jsx)("label",{children:"HighAvg"}),Object(A.jsx)("input",{type:"text",name:"highAvg",value:n.highAvg,onChange:a}),Object(A.jsx)("label",{children:"LowAvg"}),Object(A.jsx)("input",{type:"text",name:"lowAvg",value:n.lowAvg,onChange:a}),Object(A.jsx)("label",{children:"Diff"}),Object(A.jsx)("input",{type:"text",name:"maxPer",value:n.maxPer,onChange:a})]}),Object(A.jsx)(P,{onClick:function(){r({type:D.a.ADD_STOCKS}),r({type:D.a.ADD_FILTERS}),r({type:D.a.ADD_AVG})},children:"Add"})]})})},k=function(e){var t=e.handleChange,n=Object(x.b)(),r=Object(d.a)(n,1)[0];return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("select",{name:"value",onChange:t,children:[Object(A.jsx)("option",{value:"",children:"Select"}),r.filtersList.map((function(e){return Object(A.jsx)("option",{value:e.label,children:e.label})}))]})})},y=function(e){var t=e.rowNum,n=e.label,r=e.value,c=e.checked,a=Object(x.b)(),s=Object(d.a)(a,2),i=s[0],o=s[1],l=Object(u.useState)(!1),j=Object(d.a)(l,2),O=j[0],b=j[1],_=function(e){var r=e.target.value,a=e.target.name;"checked"===a&&(r=!c),"operator"===a&&(b("GT"===r||"LT"===r),o("GTA"===r||"LTA"===r?{type:D.a.UPD_FILTERS,data:{key:t,col:"value",value:Math.round(i.average[n].val/i.average[n].len)}}:{type:D.a.UPD_FILTERS,data:{key:t,col:"value",value:""}})),o({type:D.a.UPD_FILTERS,data:{key:t,col:a,value:r}}),"operator"!==a&&"value"!==a||!r||o({type:D.a.UPD_FILTERS,data:{key:t,col:"checked",value:!0}})};return Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"50%",margin:"10px"},children:[Object(A.jsx)("div",{children:Object(A.jsx)("input",{type:"checkbox",onChange:_,name:"checked",checked:c})}),Object(A.jsxs)("div",{style:{width:"33%"},children:[Object(A.jsx)("label",{children:n}),"\xa0"]}),Object(A.jsx)("div",{style:{width:"33%"},children:Object(A.jsxs)("select",{name:"operator",onChange:_,children:[Object(A.jsx)("option",{value:"",children:"Select"}),Object(A.jsx)("option",{value:">",children:"Greater"}),Object(A.jsx)("option",{value:">=",children:"Greater & Equal"}),Object(A.jsx)("option",{value:"<",children:"Less"}),Object(A.jsx)("option",{value:"<=",children:"Less & equal"}),Object(A.jsx)("option",{value:"!=",children:"Not equal"}),Object(A.jsx)("option",{value:"==",children:"Equal"}),Object(A.jsx)("option",{value:"GT",children:"Greater than"}),Object(A.jsx)("option",{value:"LT",children:"Less than"}),Object(A.jsx)("option",{value:"GTA",children:"Greater than AVG"}),Object(A.jsx)("option",{value:"LTA",children:"Less than AVG"})]})}),Object(A.jsx)("div",{style:{width:"33%"},children:O?Object(A.jsx)(k,{handleChange:_}):Object(A.jsx)("input",{type:"text",placeholder:"Value",name:"value",value:r,onChange:_,autoComplete:"off"})})]})},M=function(){var e=Object(x.b)(),t=Object(d.a)(e,2),n=t[0],r=t[1];return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("h5",{children:"Filters:"}),Object(A.jsxs)("div",{className:"filters",children:[n.filtersList.map((function(e,t){return Object(A.jsx)(y,{label:e.label,operator:e.operator,value:e.value,checked:e.checked,rowNum:t},t)})),Object(A.jsx)("br",{})]}),Object(A.jsx)(P,{onClick:function(){r({type:D.a.ADD_SEARCH})},children:"Filter"})]})},R=n(62),S=function(){var e=Object(x.b)(),t=Object(d.a)(e,2),n=t[0],r=t[1];return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(R.a,{average:n.average,stocks:n.stocks,dispatch:r,filtersCnt:n.filtersCnt,searchParams:n.searchParams,compare:n.compare})})},T=n(3),L=n(31),w=function(e){var t=e.precentages;return Object(A.jsx)("table",{style:{width:"10rem",textAlign:"left"},children:t.map((function(e){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:e.val}),Object(A.jsxs)("td",{children:[Math.round(e.diff),"%"]})]})}))})},F=function(e){var t=e.label,n=Object(u.useState)(""),r=Object(d.a)(n,2),c=r[0],a=r[1],s=Object(u.useState)([]),i=Object(d.a)(s,2),o=i[0],l=i[1],j=c.split(/\s|%/).filter((function(e){return e})).map((function(e){return e.split(",").join("")}));return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("div",{style:{margin:"0 20px 0 0"},children:[Object(A.jsx)("h6",{children:t}),Object(A.jsx)("input",{type:"text",onChange:function(e){return a(e.target.value)}}),Object(A.jsx)("button",{onClick:function(){var e=j.reduce((function(e,t,n){var r={diff:0,val:t};return 0===n?[r]:(r.diff=Object(L.e)(t,j[n-1]),[].concat(Object(T.a)(e),[r]))}),[]);l(e)},children:"Calc"}),Object(A.jsx)(w,{precentages:o})]})})},B=function(){var e=Object(u.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1];return Object(A.jsxs)("div",{children:[Object(A.jsx)("h5",{children:"Calculate Diff:"}),Object(A.jsx)("button",{onClick:function(){var e=prompt("Enter diff name");e&&r([].concat(Object(T.a)(n),[{CmpName:F,label:e}]))},children:"Add"}),Object(A.jsx)("div",{style:{display:"flex",width:"90%",flexWrap:"wrap"},children:n.map((function(e){var t=e.CmpName,n=e.label;return Object(A.jsx)(t,{label:n})}))})]})},I=p.a.div(l||(l=Object(h.a)(["\n    position:absolute;\n    top:0;    \n    width:auto;\n    height:auto;\n    background:white;\n\n"]))),U=p.a.div(j||(j=Object(h.a)(["\n"]))),K=function(e){var t=e.showModal,n=Object(x.b)(),r=Object(d.a)(n,2),c=r[0],a=r[1],s=c.stocks.filter((function(e,t){return c.compare.indexOf(t)>-1}));return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(I,{children:Object(A.jsxs)(U,{children:[Object(A.jsx)("button",{onClick:t,children:"Close"}),Object(A.jsx)(R.a,{average:c.average,stocks:s,dispatch:a,filtersCnt:c.filtersCnt,searchParams:c.searchParams,compare:c.compare})]})})})},N=n(39),W=function(e,t,n){return Object(L.e)(e[t],e[n])},Y=function(e,t){return e.sort((function(e,n){return parseFloat(n.filters[t])-parseFloat(e.filters[t])})).slice(0,5)},G=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t,n){var r=(n+1)%5,c=0===r?5:r;return e[t.Name]?(e[t.Name].cnt+=1,e[t.Name].avgPos+=c,e[t.Name].t.push(c)):e[t.Name]={cnt:1,avgPos:c,t:[r],name:t.Name},e}),{})},V=function(e){return Object.values(e).sort((function(e,t){return t.cnt-e.cnt||e.avgPos-t.avgPos})).slice(0,5)},Q=function(e){var t=function(e){return e.forEach((function(t,n){e[n].filters.epsAnnGrowthPercent=W(e[n].filters,"EPS12M","EPSAnnRs"),e[n].filters.epsPrevAnnGrowthPercent=W(e[n].filters,"EPSAnnRs","EPSPrevAnnRs"),e[n].filters.epsPreYearQtrPercent=W(e[n].filters,"EPSQtrRs","EPSPYQtrRs"),e[n].filters.epsPreQtrPercent=W(e[n].filters,"EPSQtrRs","EPSPrevQtrRs"),e[n].filters.roePercent=W(e[n].filters,"ROE","ROEPrevAnn"),e[n].filters.rocePercent=W(e[n].filters,"ROCE","ROCEPrevYr")})),e}(function(e){return e.filter((function(e){return!0}))}(JSON.parse(JSON.stringify(e)))),n=Y(t,"ROE"),r=Y(t,"ROCE"),c=Y(t,"Salesgrowth"),a=Y(t,"QtrSalesVar"),s=Y(t,"NPMAnn"),i=Y(t,"OPM"),o=G.apply(void 0,Object(T.a)(n).concat(Object(T.a)(r),Object(T.a)(c),Object(T.a)(a),Object(T.a)(s),Object(T.a)(i))),l=V(o),j=Y(t,"ROEPrevAnn"),u=Y(t,"ROCEPrevYr"),O=G.apply(void 0,Object(T.a)(j).concat(Object(T.a)(u))),b=V(O),_=Y(t,"ROE3Yr"),d=Y(t,"ROCE3Yr"),h=Y(t,"SalesVar3Yrs"),p=G.apply(void 0,Object(T.a)(_).concat(Object(T.a)(d),Object(T.a)(h))),f=V(p),v=Y(t,"ROE5Yr"),x=Y(t,"ROCE5Yr"),E=Y(t,"SalesVar5Yrs"),P=G.apply(void 0,Object(T.a)(v).concat(Object(T.a)(x),Object(T.a)(E))),m=V(P),g=Y(t,"epsAnnGrowthPercent"),D=G.apply(void 0,Object(T.a)(g)),A=V(D),C=Y(t,"epsPrevAnnGrowth"),k=G.apply(void 0,Object(T.a)(C)),y=V(k),M=Y(t,"epsPreYearQtr"),R=G.apply(void 0,Object(T.a)(M)),S=V(R),L=Y(t,"epsPreQtrPercent"),w=G.apply(void 0,Object(T.a)(L)),F=V(w),B=Y(t,"roePercent"),I=G.apply(void 0,Object(T.a)(B)),U=V(I),K=Y(t,"rocePercent"),N=G.apply(void 0,Object(T.a)(K)),Q=V(N),q=Y(t,"OPM"),H=Y(t,"OPMAnn"),J=Y(t,"OPMPrevAnn"),X=Y(t,"OPMQtr"),z=Y(t,"OPMPrevQtr"),Z=Y(t,"OPMPYQtr"),$=G.apply(void 0,Object(T.a)(q).concat(Object(T.a)(H),Object(T.a)(J),Object(T.a)(X),Object(T.a)(z),Object(T.a)(Z))),ee=V($),te=Y(t,"NPMAnn"),ne=Y(t,"NPMPrevAnn"),re=Y(t,"NPMQtr"),ce=Y(t,"NPMPrevQtr"),ae=Y(t,"NPMPYQtr"),se=G.apply(void 0,Object(T.a)(te).concat(Object(T.a)(ne),Object(T.a)(re),Object(T.a)(ce),Object(T.a)(ae))),ie=V(se),oe=G.apply(void 0,Object(T.a)(n).concat(Object(T.a)(r),Object(T.a)(c),Object(T.a)(a),Object(T.a)(j),Object(T.a)(u),Object(T.a)(_),Object(T.a)(d),Object(T.a)(h),Object(T.a)(v),Object(T.a)(x),Object(T.a)(E),Object(T.a)(g),Object(T.a)(C),Object(T.a)(M),Object(T.a)(L),Object(T.a)(B),Object(T.a)(K),Object(T.a)(q),Object(T.a)(H),Object(T.a)(J),Object(T.a)(X),Object(T.a)(z),Object(T.a)(Z),Object(T.a)(te),Object(T.a)(ne),Object(T.a)(re),Object(T.a)(ce),Object(T.a)(ae)));return{currentBest:l,histBest:b,avg3Best:f,avg5Best:m,epsCmp12MnthBest:A,epsCmpLastYrBest:y,epsCmpLastYrQtrBest:S,epsCmpPrevQtrBest:F,roePercentBest:U,rocePercentBest:Q,opmPercentBest:ee,npmPercentBest:ie,finalBest:V(oe)}},q=function(e){var t=e.rows;return Object(A.jsxs)("table",{border:"1",children:[Object(A.jsx)("thead",{children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"Name"}),Object(A.jsx)("th",{children:"Cnt"}),Object(A.jsx)("th",{children:"Position"})]})}),Object(A.jsx)("tbody",{children:t.map((function(e){return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:e.name}),Object(A.jsx)("td",{children:e.cnt}),Object(A.jsx)("td",{children:e.avgPos})]})})}))})]})},H=function(){var e=Object(u.useState)(!1),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(x.b)(),a=Object(d.a)(c,1)[0],s=Q(a.stocks),i=s.currentBest,o=s.histBest,l=s.avg3Best,j=s.avg5Best,O=s.finalBest,b=s.epsCmp12MnthBest,_=s.epsCmpLastYrBest,h=s.epsCmpLastYrQtrBest,p=s.epsCmpPrevQtrBest,f=s.roePercentBest,v=s.rocePercentBest,E=s.opmPercentBest,P=s.npmPercentBest;return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("button",{onClick:function(e){return r(!n)},children:"BestPick"}),n&&Object(A.jsx)(N.d,{children:Object(A.jsxs)(N.b,{children:[Object(A.jsx)(N.c,{onClick:function(e){return r(!n)},children:"X"}),Object(A.jsxs)(N.a,{children:[Object(A.jsxs)("div",{children:[Object(A.jsx)("h5",{children:"Current"}),Object(A.jsx)(q,{rows:i})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("h5",{children:"History"}),Object(A.jsx)(q,{rows:o})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("h5",{children:"Avg 3 Years"}),Object(A.jsx)(q,{rows:l})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("h5",{children:"Avg 5 Years"}),Object(A.jsx)(q,{rows:j})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("h5",{children:"EPS12M vs Last yr"}),Object(A.jsx)(q,{rows:b})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("h5",{children:"EPS last yr vs prev yr"}),Object(A.jsx)(q,{rows:_})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("h5",{children:"Eps last qtr vs prev qtr"}),Object(A.jsx)(q,{rows:p})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("h5",{children:"EPS prev yr qtr"}),Object(A.jsx)(q,{rows:h})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("h5",{children:"Roe vs prev yr"}),Object(A.jsx)(q,{rows:f})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("h5",{children:"Roce vs prev yr"}),Object(A.jsx)(q,{rows:v})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("h5",{children:"OPM"}),Object(A.jsx)(q,{rows:E})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("h5",{children:"NPM"}),Object(A.jsx)(q,{rows:P})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("h5",{children:"Consolidated"}),Object(A.jsx)(q,{rows:O})]})]})]})})]})},J=n(169);var X=function(){var e=Object(x.b)(),t=Object(d.a)(e,1)[0],n=Object(u.useState)(!1),r=Object(d.a)(n,2),c=r[0],a=r[1],s=function(){a(!c)};return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(C,{}),t.stocks&&t.stocks.length>0&&Object(A.jsx)(M,{}),t.stocks&&t.stocks.length>0&&Object(A.jsxs)("h5",{children:["Filters added: ",t.filtersCnt]}),t.compare&&t.compare.length>1&&Object(A.jsx)("button",{onClick:s,children:"Compare"}),t.stocks&&t.stocks.length>0&&Object(A.jsx)(H,{}),t.stocks&&t.stocks.length>0&&Object(A.jsx)(J.a,{}),t.stocks&&t.stocks.length>0&&Object(A.jsx)(S,{}),c&&Object(A.jsx)(K,{showModal:s}),Object(A.jsx)(B,{})]})},z=n(30),Z=n(32),$=n.n(Z),ee=n(63),te=n(352),ne=n(356),re=n(182),ce=n(183),ae=n(80),se=n(77),ie=n(186);function oe(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}var le,je,ue,Oe=function(e){var t=e.data,n=void 0===t?[]:t,r=e.uniqYear,c=void 0===r?[]:r,a=e.yAxis,s=void 0===a?"":a,i=s?s.split(",").map((function(e){return parseInt(e)})):[];return Object(A.jsx)(A.Fragment,{children:n.length?Object(A.jsxs)(te.a,{width:1350,height:1e3,data:n,children:[Object(A.jsx)(ne.a,{strokeDasharray:"1 1"}),Object(A.jsx)(re.a,{dataKey:"name"}),Object(A.jsx)(ce.a,{domain:i}),Object(A.jsx)(ae.a,{}),Object(A.jsx)(se.a,{}),c.map((function(e){return Object(A.jsx)(ie.a,{type:"monotone",dataKey:e,stroke:oe()})}))]}):null})},be=n(184),_e=n.n(be),de=function(){var e=Object(ee.a)($.a.mark((function e(t,n){var r,c;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n||"n50",e.next=4,_e.a.get("/screener/points/".concat(r,"/").concat(t));case 4:return c=e.sent,e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(0),alert("Failed to load");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),he=function(){var e=Object(u.useState)(""),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(u.useState)([]),a=Object(d.a)(c,2),s=a[0],i=a[1],o=Object(u.useState)([]),l=Object(d.a)(o,2),j=l[0],O=l[1],b=Object(u.useState)(5),_=Object(d.a)(b,2),h=_[0];return{setNoOfDays:_[1],setData:r,setChartDat:i,setYear:O,processData:function(e,t,n){var r=Object(T.a)(s),c=e.split("\n").slice(1),a=Object(T.a)(j),o=0,l=c[0].split(","),u=Object(d.a)(l,2)[1];u=u.replace(/"/g,"").trim(),c.forEach((function(e,c){if(!(parseInt(h)>0&&c%parseInt(h)!=0)){var s=e.split(","),i=Object(d.a)(s,4),l=i[0],j=i[1];if(j=i[3],"string"===typeof l&&"string"===typeof j){l=l.replace(/"/g,"").trim(),j=j.replace(/"/g,"").trim();var O=l.split("-"),b=Object(d.a)(O,3),_=b[0],p=b[1],f=b[2];r[o]||(r[o]={name:"".concat(_,"-").concat(p)});var v=n?t:f;r[o][v]=n?Number((j-u)/u*100).toFixed(2):j,a.includes(v)||a.push(v),o++}}})),i(r),O(a)},clearLast:function(){var e=Object(T.a)(j);e.pop(),O(e)},uniqYear:j,noOfDays:h,chartData:s,data:n}},pe=n(97),fe=p.a.div(le||(le=Object(h.a)(["\n    display:flex;\n    flex-direction:row;\n    flex-wrap:wrap;\n    width:100%;\n    gap:5px;\n"]))),ve=p.a.div(je||(je=Object(h.a)(["\n    max-width:15%;\n    \n"]))),xe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.reduce((function(e,r){var c=pe[r][t];if(!c)return e;var a={position:n.filter((function(e){return e[0]===r}))[0],sector:r,rtn:c};return[].concat(Object(T.a)(e),[a])}),[]).sort((function(e,t){return t.rtn-e.rtn}))},Ee=n(12),Pe=p.a.div(ue||(ue=Object(h.a)(["\n    display:flex;\n    gap:4px;\n    .positionItem{\n        border:0.5px solid gray;\n        min-width:12px;\n        font-size:11px;\n        color:white;\n        font-weight:bold;\n    }\n    .positionItem:nth-child(-n+6){\n        border-radius:50%;\n    }\n    .good{\n        background:green;\n    }\n    .avg{\n        background:tomato;\n        color:white;\n    }\n    .invalid{\n        background:black;\n    }\n"]))),me=function(e){var t=e.points,n=Object(u.useMemo)((function(){return t.slice().reverse()}),[]);return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(Pe,{children:n.map((function(e){var t=0===e?"invalid":e<=6?"good":"avg";return Object(A.jsx)("div",{className:"positionItem ".concat(t),children:e})}))})})},ge=function(e){var t=e.sectors,n=e.index,r=e.isLast,c=e.finalStat,a=xe(t,n,c);return Object(A.jsx)(A.Fragment,{children:a.map((function(e){return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:e.sector}),Object(A.jsx)("td",{children:e.rtn}),r&&Object(A.jsx)("td",{children:Object(A.jsx)(me,{points:e.position[1]})})]})})}))})},De=function(e){return Object(A.jsxs)("table",{children:[Object(A.jsxs)("thead",{children:[Object(A.jsx)("th",{children:"Sectors"}),Object(A.jsx)("th",{children:"Return"}),e.isLast&&Object(A.jsx)("th",{children:"Position"})]}),Object(A.jsx)("tbody",{children:Object(A.jsx)(ge,Object(Ee.a)({},e))})]})},Ae=function(){var e=Object.keys(pe),t=Object.entries(function(e){var t={};return Array.from({length:23},(function(n,r){var c=xe(e,r);e.forEach((function(e){var n=c.findIndex((function(t){return t.sector===e}))+1;t[e]=(t[e]||[]).concat(n)}))})),t}(e));return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(fe,{children:Array.from({length:23},(function(n,r){return Object(A.jsxs)(ve,{children:[Object(A.jsx)("h3",{children:r}),Object(A.jsx)(De,{sectors:e,index:r,finalStat:t,isLast:22===r})]})}))})})},Ce=function(){var e,t=he(),n=t.setNoOfDays,r=t.setData,c=t.setChartDat,a=t.setYear,s=t.processData,i=t.clearLast,o=t.uniqYear,l=t.noOfDays,j=t.chartData,O=t.data,b=Object(u.useState)(""),_=Object(d.a)(b,2),h=_[0],p=_[1],f=Object(u.useState)("5000,20000"),v=Object(d.a)(f,2),x=v[0],E=v[1],P=Object(u.useState)(!1),m=Object(d.a)(P,2),g=m[0],D=m[1],C=Object(u.useState)(""),k=Object(d.a)(C,2),y=k[0],M=k[1],R=Object(u.useState)(""),S=Object(d.a)(R,2),T=S[0],L=S[1],w=function(){var e=Object(ee.a)($.a.mark((function e(t){var n,r;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.value){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,de(h,n);case 5:(null===(r=e.sent)||void 0===r?void 0:r.data)&&L(r.data),M(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(ee.a)($.a.mark((function e(t,n){var c,a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n.target.value){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,de(c,t);case 5:(null===(a=e.sent)||void 0===a?void 0:a.data)&&("other"!=t?r(a.data):L(a.data)),p(c);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),B=function(){return g?(s(O,"n50",g),void(T&&s(T,y,g))):s(O,"",g)};return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(Ae,{}),Object(A.jsx)("input",{type:"file",onChange:function(e){e.preventDefault();var t=new FileReader;t.onload=function(){var e=Object(ee.a)($.a.mark((function e(t){var n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.result,r(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.readAsText(e.target.files[0])}}),Object(A.jsx)("input",{type:"checkbox",onChange:function(e){var t=e.target.checked;E(t?"-100,200":"5000,20000"),D(t)}})," Compare",Object(A.jsx)("input",(e={type:"text"},Object(z.a)(e,"type","number"),Object(z.a)(e,"value",l),Object(z.a)(e,"onChange",(function(e){var t=e.target.value;n(t)})),e)),Object(A.jsx)("input",{type:"text",value:x,onChange:function(e){var t=e.target.value;E(t)}}),Object(A.jsxs)("select",{onChange:F.bind(null,"n50"),children:[Object(A.jsx)("option",{value:"",children:"Select"}),Array.from({length:23},(function(e,t){return Object(A.jsx)("option",{value:t,children:t})}))]}),Object(A.jsx)("button",{onClick:B,children:"Load"}),g?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("select",{onChange:w,children:[Object(A.jsx)("option",{value:"",children:"Select"}),Object(A.jsx)("option",{value:"auto",children:"Auto"}),Object(A.jsx)("option",{value:"bank",children:"Bank"}),Object(A.jsx)("option",{value:"pb",children:"Private Bank"}),Object(A.jsx)("option",{value:"psub",children:"PSU Bank"}),Object(A.jsx)("option",{value:"fs",children:"FS"}),Object(A.jsx)("option",{value:"pharma",children:"Pharma"}),Object(A.jsx)("option",{value:"fmcg",children:"FMCG"}),Object(A.jsx)("option",{value:"it",children:"IT"}),Object(A.jsx)("option",{value:"media",children:"Media"}),Object(A.jsx)("option",{value:"metal",children:"Metal"}),Object(A.jsx)("option",{value:"realty",children:"Realty"})]}),Object(A.jsx)("button",{onClick:B,children:"Compare"})]}):null,Object(A.jsx)("button",{onClick:i,children:"Clear Index"}),Object(A.jsx)("button",{onClick:function(){r(""),c([]),a([])},children:"Clear All"}),Object(A.jsx)(Oe,{data:j,uniqYear:o,yAxis:x})]})};function ke(){var e=Object(u.useState)(!1),t=Object(d.a)(e,2),n=t[0],r=t[1];return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(v,{children:[Object(A.jsx)("div",{children:Object(A.jsx)("button",{onClick:function(){r(!n)},children:"Show Chart"})}),Object(A.jsx)("div",{children:"v2.1.5"})]}),Object(A.jsx)(f,{showChart:n,children:n?Object(A.jsx)(Ce,{}):Object(A.jsx)(X,{})})]})}var ye=function(){return Object(A.jsx)(x.a,{children:Object(A.jsx)(ke,{})})},Me=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,358)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};_.a.render(Object(A.jsx)(O.a.StrictMode,{children:Object(A.jsx)(ye,{})}),document.getElementById("root")),Me()},39:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return O}));var r,c,a,s,i=n(18),o=n(19),l=o.a.div(r||(r=Object(i.a)(["\n    position:fixed;\n    width:100%;\n    height:100%;\n    right:0;\n    left:0;\n    top:0;\n    z-index:1000;\n    background:rgb(0, 0, 0, 0.4);\n    display:flex;\n    justify-content:center;\n    align-items:center;    \n    overflow:hidden;\n"]))),j=o.a.div(c||(c=Object(i.a)(["\n    position:relative;\n    background:white;\n    max-width:100%;\n    max-height:100%;\n    padding:5px;\n    overflow:auto;\n"]))),u=o.a.div(a||(a=Object(i.a)(["\n    position:absolute;\n    top:0;\n    right:0;\n    padding:5px;\n"]))),O=o.a.div(s||(s=Object(i.a)(["\n    display:flex;\n    flex-wrap: wrap;\n    \n    >\n    div{\n        margin:5px;\n        max-width:20%;        \n    }\n    table tr th{\n        position:relative;\n    }\n    \n"])))},53:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s}));var r={eps:{cols:["EPSQtrRs","EPSPrevQtrRs","EPS12M","EPSAnnRs","EPSPrevAnnRs","EPSPYQtrRs"],order:"desc",isRound:!0},npm:{cols:["NPMAnn","NPMPrevAnn","NPMQtr","NPMPrevQtr","NPMPYQtr"],order:"desc",isRound:!0},opm:{cols:["OPM","OPMAnn","OPMPrevAnn","OPMQtr","OPMPrevQtr","OPMPYQtr"],order:"desc",isRound:!0},sales:{cols:["Salesgrowth","QtrSalesVar"],order:"desc",isRound:!0},roe:{cols:["ROE","ROEPrevAnn"],order:"desc",isRound:!0},roce:{cols:["ROCE","ROCEPrevYr"],order:"desc",isRound:!0},cashFlow:{cols:["FreeCashFlowRsCr","FCFPrevAnnRsCr"],order:"desc",isRound:!0},debt:{cols:["Debt to Eq"],order:"asc",isRound:!0},pe:{cols:["PERatio"],order:"asc",isRound:!0},ey:{cols:["EarningsYield"],order:"desc",isRound:!0},qqp:{cols:["QoQProfits"],order:"desc",isRound:!0},qqs:{cols:["QoQSales"],order:"desc",isRound:!0},yyp:{cols:["QtrProfitVar"],order:"desc",isRound:!0},yys:{cols:["QtrSalesVar"],order:"desc",isRound:!0},r:{cols:["Rank"],order:"asc",isRound:!1},er:{cols:["EarningsYieldRank"],order:"asc",isRound:!1},rr:{cols:["ROCERank"],order:"asc",isRound:!1}},c=["qqp","qqs","yyp","yys","eps","npm","opm","sales","roe","roce","cashFlow","debt","pe","ey"],a=["EarningsYield","ROCE"],s=["mc50","mcpd50","mc200","mc200Diff","mc1","GN"]},62:function(e,t,n){"use strict";var r,c,a,s,i=n(12),o=n(3),l=n(4),j=n(1),u=n(22),O={">":function(e,t){return parseFloat(e)>parseFloat(t)},">=":function(e,t){return parseFloat(e)>=parseFloat(t)},"<":function(e,t){return parseFloat(e)<parseFloat(t)&&e>=0},"<=":function(e,t){return parseFloat(e)<=parseFloat(t)&&e>=0},"!=":function(e,t){return parseFloat(e)!=parseFloat(t)},"==":function(e,t){return parseFloat(e)==parseFloat(t)},GT:function(e,t){return parseFloat(e)>=parseFloat(t)},LT:function(e,t){return parseFloat(e)<=parseFloat(t)},GTA:function(e,t){return parseFloat(e)>=parseFloat(t)},LTA:function(e,t){return parseFloat(e)<=parseFloat(t)&&e>=0}},b=n(18),_=n(19),d=(_.a.table(r||(r=Object(b.a)(["\nborder:1px solid;\n"]))),_.a.div(c||(c=Object(b.a)(["\n    background: skyblue;\n    border-radius:50%;\n    font-size:9px;\n"])))),h=(_.a.th(a||(a=Object(b.a)([""]))),_.a.th(s||(s=Object(b.a)([""]))),{ABOVE_NINTY:{background:"green",color:"rgb(255,255,255)"},ABOVE_EIGHTY:{background:"lightgreen",color:"rgb(255,255,255)"},ABOVE_SEVENTY:{background:"skyblue",color:"rgb(255,255,255)"},ABOVE_SIXTY:{background:"orange",color:"rgb(255,255,255)"},ABOVE_FIFTY:{background:"yellow",color:"rgb(255,255,255)"},BELOW_FIFTY:{background:"red",color:"rgb(255,255,255)"}}),p=(n(198),n(0)),f=function(e){var t=e.stocks,n=e.average,r=e.dispatch,c=e.selectAll,a=Object(j.useState)(!1),s=Object(l.a)(a,2),i=s[0],o=s[1],O=t[0].filters,b=Object.keys(O),_=function(e){var n=JSON.parse(JSON.stringify(t));n.sort((function(t,n){return i?n.filters[e]-t.filters[e]:t.filters[e]-n.filters[e]})),o(!i),r({type:u.a.UPD_STOCKS,data:{stocks:n}})};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("th",{children:["ID ",Object(p.jsx)("input",{type:"checkbox",onChange:c})]}),Object(p.jsx)("th",{children:"StockName"}),b.map((function(e){var t;return(null===n||void 0===n||null===(t=n[e])||void 0===t?void 0:t.val)?Object(p.jsxs)("th",{onClick:_.bind(null,e),children:[e,Object(p.jsx)(d,{children:Math.round(n[e].val/n[e].len)})]}):Object(p.jsx)("th",{onClick:_.bind(null,e),children:e})})),Object(p.jsx)("th",{children:"Matches"}),Object(p.jsx)("th",{children:"Action"})]})},v=function(e){var t=e.name,n=e.value,r=e.onChange,c=e.average,a=(c&&c[t]?c[t]:{rm:[]}).rm,s=!(""!==n&&!a.includes(parseFloat(n))),i=Object(j.useState)(s),o=Object(l.a)(i,2),u=o[0],O=o[1];Object(j.useEffect)((function(){var e=!(""!==n&&!a.includes(parseFloat(n)));O(e)}),[]);return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("input",{type:"checkbox",name:t,value:n,onChange:function(e){O(!u),r(e)},checked:u})})},x=function(e){var t=e.stock,n=e.rowNum,r=e.average,c=e.filtersCnt,a=e.searchParams,s=e.compare,i=e.dispatch,b=t.Name,_=t.filters,d=Object.keys(_),f=Object(j.useState)(!1),x=Object(l.a)(f,2),E=x[0],P=x[1],m=0,g=function(e){var t=e.target,n=t.checked,r=t.value,c=t.name,a=n?"sub":"add";i({type:u.a.UPD_AVG,data:{updType:a,filter:c,num:r}})};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("td",{className:E?"highlight":"",children:[Object(p.jsx)("input",{type:"checkbox",onChange:function(){var e=Object(o.a)(s);if(E){var t=e.indexOf(n);t>=0&&(e=[].concat(Object(o.a)(e.slice(0,t)),Object(o.a)(e.slice(t+1))))}else e.push(n);P(!E),i({type:u.a.ADD_TO_COMPARE,data:{compare:e}})}}),b]}),d.map((function(e,t){var n=function(e){var t=a[e];if(t&&O[t.operator]){var n="LT"===t.operator||"GT"===t.operator?_[t.value]||0:t.value,r=O[t.operator](_[e],n)?"greenCol":"redCol";return"greenCol"===r&&m++,r}}(e)||"";return Object(p.jsxs)("td",{className:"".concat(n," ").concat(E?"highlight":""),children:[Object(p.jsx)(v,{name:e,value:_[e],average:r,onChange:g}),_[e]]})})),Object(p.jsx)("td",{className:E?"highlight":"",style:function(e){if(!(c<=0)){var t=e/c*100;return t>=90?h.ABOVE_NINTY:t>=80?h.ABOVE_EIGHTY:t>=70?h.ABOVE_SEVENTY:t>=60?h.ABOVE_SIXTY:t>=50?h.ABOVE_FIFTY:h.BELOW_FIFTY}}(m),children:m}),Object(p.jsx)("td",{children:Object(p.jsx)("button",{onClick:function(e){i({type:u.a.DELETE_STOCK,data:{key:e}}),i({type:u.a.ADD_AVG})}.bind(null,n),children:"Delete"})})]})},E=function(e){var t=e.stock.id,n=e.selectedRow,r=e.selectedIds;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("tr",{children:[Object(p.jsxs)("td",{children:[t,Object(p.jsx)("input",{type:"checkbox",checked:r.includes(t)?"checked":"",onChange:n.bind(null,t)})]}),Object(p.jsx)(x,Object(i.a)({},e))]})})};t.a=function(e){var t=e.average,n=e.stocks,r=e.filtersCnt,c=e.searchParams,a=e.compare,s=e.dispatch,i=Object(j.useState)([]),O=Object(l.a)(i,2),b=O[0],_=O[1],d=Object(j.useState)(!1),h=Object(l.a)(d,2),v=h[0],x=h[1],P=function(e,t){if(t.target.checked)_([].concat(Object(o.a)(b),[e]));else{var n=b.indexOf(e);_([].concat(Object(o.a)(b.slice(0,n)),Object(o.a)(b.slice(n+1))))}},m=function(){if(v)_([]);else{var e=n.map((function(e){return e.id}));_(e)}x(!v)};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("button",{onClick:function(){s({type:u.a.DELETE_STOCKS,data:{key:b}}),s({type:u.a.ADD_AVG}),_([])},children:"Delete"}),Object(p.jsxs)("table",{border:"1",children:[Object(p.jsx)("thead",{children:Object(p.jsx)("tr",{children:Object(p.jsx)(f,{selectAll:m,average:t,stocks:n,dispatch:s})})}),Object(p.jsx)("tbody",{children:n.map((function(e,n){return Object(p.jsx)(E,{selectedIds:b,selectedRow:P,stock:e,compare:a,rowNum:n,average:t,filtersCnt:r,searchParams:c,dispatch:s})}))}),Object(p.jsx)("thead",{children:Object(p.jsx)("tr",{bold:"1",children:Object(p.jsx)(f,{selectAll:m,average:t,stocks:n,dispatch:s})})})]})]})}},97:function(e){e.exports=JSON.parse('{"auto":{"11":"-19.53","12":"43.93","13":"8.53","14":"56.47","15":"-0.77","16":"12.27","17":"28.76","18":"-22.33","19":"-10.17","20":"11.20","21":"17.95","22":"4.01"},"bank":{"6":"31.88","7":"63.31","8":"-51.21","9":"76.48","10":"29.40","11":"-32.79","12":"56.02","13":"-10.03","14":"64.56","15":"-9.75","16":"9.51","17":"42.13","18":"7.28","19":"17.41","20":"-3.64","21":"13.63","22":"6.50"},"fmcg":{"12":"50.19","13":"11.81","14":"20.37","15":"0.25","16":"3.32","17":"29.65","18":"15.01","19":"-0.24","20":"12.92","21":"8.55","22":"-0.26"},"fs":{"13":"-8.35","14":"57.52","15":"-5.25","16":"7.20","17":"43.41","18":"11.42","19":"25.64","20":"3.47","21":"14.07","22":"1.75"},"it":{"4":"-87.76","5":"31.57","6":"39.85","7":"-12.81","8":"-53.69","9":"157.13","10":"27.46","11":"-18.06","12":"-3.10","13":"57.82","14":"18.34","15":"-1.40","16":"-5.71","17":"12.53","18":"24.46","19":"8.34","20":"54.37","21":"54.13","22":"-10.34"},"media":{"12":"59.38","13":"-1.63","14":"34.17","15":"10.53","16":"1.49","17":"32.31","18":"-25.76","19":"-29.01","20":"-8.42","21":"32.42","22":"-0.92"},"metal":{"12":"16.24","13":"-16.39","14":"8.47","15":"-32.72","16":"46.96","17":"45.65","18":"-19.99","19":"-7.50","20":"13.41","21":"61.24","22":"3.58"},"n50":{"0":"-20.64","1":"-15.57","2":"3.62","3":"70.86","4":"6.91","5":"34.12","6":"39.86","7":"53.18","8":"-52.11","9":"71.46","10":"17.25","11":"-24.90","12":"27.35","13":"5.93","14":"31.44","15":"-4.08","16":"5.06","17":"28.75","18":"4.09","19":"11.53","20":"14.77","21":"23.79","22":"-0.62"},"pb":{"17":"42.12","18":"8.87","19":"16.12","20":"-3.69","21":"5.01","22":"5.71"},"pharma":{"12":"32.13","13":"25.78","14":"43.60","15":"9.20","16":"-12.50","17":"-6.69","18":"-7.29","19":"-9.05","20":"60.37","21":"8.16","22":"-4.07"},"psub":{"12":"40.24","13":"-32.58","14":"69.32","15":"-33.57","16":"6.25","17":"26.63","18":"-14.79","19":"-17.97","20":"-31.98","21":"38.30","22":"15.77"},"realty":{"11":"-51.70","12":"53.63","13":"-36.10","14":"10.53","15":"-15.85","16":"-4.09","17":"100.98","18":"-32.43","19":"27.53","20":"4.27","21":"52.51","22":"-3.31"}}')}},[[350,1,2]]]);
//# sourceMappingURL=main.f7f996ab.chunk.js.map