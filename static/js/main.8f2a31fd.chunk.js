(this.webpackJsonpscreener=this.webpackJsonpscreener||[]).push([[0],{22:function(e,t,r){},23:function(e,t,r){},27:function(e,t,r){"use strict";r.r(t);var n,a,c,l,i,s,o,j,u=r(1),b=r.n(u),d=r(14),h=r.n(d),O=(r(22),r(6)),v=r(8),p=r(5),x=r(2),f=(r(23),r(3)),g=r(4),m=g.a.textarea(n||(n=Object(f.a)(["\n    height:100px;\n"]))),k=g.a.button(a||(a=Object(f.a)(["\n    width:10%;\n    margin:10px 0 0 0;    \n"]))),F=g.a.div(c||(c=Object(f.a)(["\n    width:100%;\n    display:flex;\n    flex-direction:column;\n"]))),y=r(0),C=function(e){var t=e.value,r=e.setVal,n=e.onSubmit;return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(F,{children:[Object(y.jsx)(m,{value:t,onChange:function(e){return r(e.target.value)},placeholder:"Enter your JSON"}),Object(y.jsx)(k,{onClick:n,children:"Add"})]})})},S=function(e){var t=e.filtersList,r=e.handleChange;return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("select",{name:"value",onChange:r,children:[Object(y.jsx)("option",{value:"",children:"Select"}),t.map((function(e){return Object(y.jsx)("option",{value:e.label,children:e.label})}))]})})},A=function(e){var t=e.rowNum,r=e.label,n=e.value,a=e.checked,c=e.updFilter,l=e.filtersList,i=e.average,s=Object(u.useState)(!1),o=Object(x.a)(s,2),j=o[0],b=o[1],d=function(e){var n=e.target.value,l=e.target.name;"checked"===l&&(n=!a),"operator"===l&&(b("GT"===n||"LT"===n),c(t,"value","GTA"===n||"LTA"===n?Math.round(i[r].val/i[r].len):"")),c(t,l,n),"operator"!==l&&"value"!==l||!n||c(t,"checked",!0)};return Object(y.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"50%",margin:"10px"},children:[Object(y.jsx)("div",{children:Object(y.jsx)("input",{type:"checkbox",onChange:d,name:"checked",checked:a})}),Object(y.jsxs)("div",{style:{width:"33%"},children:[Object(y.jsx)("label",{children:r}),"\xa0"]}),Object(y.jsx)("div",{style:{width:"33%"},children:Object(y.jsxs)("select",{name:"operator",onChange:d,children:[Object(y.jsx)("option",{value:"",children:"Select"}),Object(y.jsx)("option",{value:">",children:"Greater"}),Object(y.jsx)("option",{value:">=",children:"Greater & Equal"}),Object(y.jsx)("option",{value:"<",children:"Less"}),Object(y.jsx)("option",{value:"<=",children:"Less & equal"}),Object(y.jsx)("option",{value:"!=",children:"Not equal"}),Object(y.jsx)("option",{value:"==",children:"Equal"}),Object(y.jsx)("option",{value:"GT",children:"Greater than"}),Object(y.jsx)("option",{value:"LT",children:"Less than"}),Object(y.jsx)("option",{value:"GTA",children:"Greater than AVG"}),Object(y.jsx)("option",{value:"LTA",children:"Less than AVG"})]})}),Object(y.jsx)("div",{style:{width:"33%"},children:j?Object(y.jsx)(S,{filtersList:l,handleChange:d}):Object(y.jsx)("input",{type:"text",placeholder:"Value",name:"value",value:n,onChange:d,autoComplete:"off"})})]})},L=function(e){var t=e.filtersList,r=e.updFilter,n=e.addToSearch,a=e.average;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h5",{children:"Filters:"}),Object(y.jsxs)("div",{className:"filters",children:[t.map((function(e,n){return Object(y.jsx)(A,{average:a,label:e.label,operator:e.operator,value:e.value,checked:e.checked,rowNum:n,updFilter:r,filtersList:t},n)})),Object(y.jsx)("br",{})]}),Object(y.jsx)(k,{onClick:n.bind(null,t),children:"Filter"})]})},w={">":function(e,t){return parseFloat(e)>parseFloat(t)},">=":function(e,t){return parseFloat(e)>=parseFloat(t)},"<":function(e,t){return parseFloat(e)<parseFloat(t)},"<=":function(e,t){return parseFloat(e)<=parseFloat(t)},"!=":function(e,t){return parseFloat(e)!=parseFloat(t)},"==":function(e,t){return parseFloat(e)==parseFloat(t)},GT:function(e,t){return parseFloat(e)>=parseFloat(t)},LT:function(e,t){return parseFloat(e)<=parseFloat(t)},GTA:function(e,t){return parseFloat(e)>=parseFloat(t)},LTA:function(e,t){return parseFloat(e)<=parseFloat(t)}},T=(g.a.table(l||(l=Object(f.a)(["\nborder:1px solid;\n"]))),g.a.div(i||(i=Object(f.a)(["\n    background: skyblue;\n    border-radius:50%;\n    font-size:9px;\n"])))),N=(g.a.th(s||(s=Object(f.a)([""]))),g.a.th(o||(o=Object(f.a)([""]))),function(e){var t=e.stock,r=e.average,n=t.filters,a=Object.keys(n);return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("th",{children:"StockName"}),a.map((function(e){return Object(y.jsxs)("th",{children:[e,Object(y.jsx)(T,{children:Math.round(r[e].val/r[e].len)})]})})),Object(y.jsx)("th",{children:"Matches"}),Object(y.jsx)("th",{children:"Action"})]})}),G=function(e){var t=e.stock,r=e.searchParams,n=e.deleteStock,a=e.rowNum,c=e.filtersCnt,l=e.updAvg,i=t.Name,s=t.filters,o=Object.keys(s),j=0,u=function(e){var t=e.target,r=t.checked,n=t.value,a=t.name;l(r?"sub":"add",a,n)};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("td",{children:i}),o.map((function(e,t){var n=function(e){var t=r[e];if(t&&w[t.operator]){var n="LT"===t.operator||"GT"===t.operator?s[t.value]||0:t.value,a=w[t.operator](s[e],n)?"greenCol":"redCol";return"greenCol"===a&&j++,a}}(e)||"";return Object(y.jsxs)("td",{className:n,children:[Object(y.jsx)("input",{type:"checkbox",name:e,value:s[e],onChange:u}),s[e]]})})),Object(y.jsx)("td",{style:function(e){if(!(c<=0)){var t=e/c*100;return t>=90?{background:"green",color:"rgb(255,255,255)"}:t>=80?{background:"lightgreen",color:"rgb(255,255,255)"}:t>=70?{background:"skyblue",color:"rgb(255,255,255)"}:t>=60?{background:"orange",color:"rgb(255,255,255)"}:t>=50?{background:"yellow",color:"rgb(255,255,255)"}:{background:"red",color:"rgb(255,255,255)"}}}(j),children:j}),Object(y.jsx)("td",{children:Object(y.jsx)("button",{onClick:n.bind(null,a),children:"Delete"})})]})},E=function(e){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("tr",{children:Object(y.jsx)(G,Object(O.a)({},e))})})},J=function(e){var t=e.stocks,r=e.searchParams,n=e.deleteStock,a=e.average,c=e.filtersCnt,l=e.updAvg;return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("table",{border:"1",children:[Object(y.jsx)("thead",{children:Object(y.jsx)("tr",{children:Object(y.jsx)(N,{average:a,stock:t[0]})})}),Object(y.jsx)("tbody",{children:t.map((function(e,t){return Object(y.jsx)(E,{updAvg:l,filtersCnt:c,stock:e,searchParams:r,rowNum:t,deleteStock:n})}))}),Object(y.jsx)("thead",{children:Object(y.jsx)("tr",{bold:"1",children:Object(y.jsx)(N,{average:a,stock:t[0]})})})]})})},P=function(e){var t=e.precentages;return Object(y.jsx)("table",{style:{width:"10rem",textAlign:"left"},children:t.map((function(e){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:e.val}),Object(y.jsxs)("td",{children:[Math.round(e.diff),"%"]})]})}))})},M=function(e){var t=e.label,r=Object(u.useState)(""),n=Object(x.a)(r,2),a=n[0],c=n[1],l=Object(u.useState)([]),i=Object(x.a)(l,2),s=i[0],o=i[1],j=a.split(/\s|%/).filter((function(e){return e})).map((function(e){return e.split(",").join("")}));return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{style:{margin:"0 20px 0 0"},children:[Object(y.jsx)("h6",{children:t}),Object(y.jsx)("input",{type:"text",onChange:function(e){return c(e.target.value)}}),Object(y.jsx)("button",{onClick:function(){var e=j.reduce((function(e,t,r){var n,a,c={diff:0,val:t};return 0===r?[c]:(c.diff=(n=t,a=j[r-1],(n-a)/a*100),[].concat(Object(p.a)(e),[c]))}),[]);o(e)},children:"Calc"}),Object(y.jsx)(P,{precentages:s})]})})},V=function(){var e=Object(u.useState)([]),t=Object(x.a)(e,2),r=t[0],n=t[1];return Object(y.jsxs)("div",{children:[Object(y.jsx)("h5",{children:"Calculate Diff:"}),Object(y.jsx)("button",{onClick:function(){var e=prompt("Enter diff name");e&&n([].concat(Object(p.a)(r),[{CmpName:M,label:e}]))},children:"Add"}),Object(y.jsx)("div",{style:{display:"flex",width:"90%",flexWrap:"wrap"},children:r.map((function(e){var t=e.CmpName,r=e.label;return Object(y.jsx)(t,{label:r})}))})]})},q=g.a.div(j||(j=Object(f.a)(["\nmargin:40px;\nposition:relative;\n"])));var D=function(){var e=Object(u.useState)(""),t=Object(x.a)(e,2),r=t[0],n=t[1],a=Object(u.useState)([]),c=Object(x.a)(a,2),l=c[0],i=c[1],s=Object(u.useState)([]),o=Object(x.a)(s,2),j=o[0],b=o[1],d=Object(u.useState)({}),h=Object(x.a)(d,2),f=h[0],g=h[1],m=Object(u.useState)(0),k=Object(x.a)(m,2),F=k[0],S=k[1],A=Object(u.useState)(0),w=Object(x.a)(A,2),T=w[0],N=w[1];return Object(y.jsxs)(q,{children:[Object(y.jsx)(C,{value:r,setVal:n,onSubmit:function(){try{var e=JSON.parse(r);Array.isArray(e)||(e=[e]),i(e),function(e){if(null===e||void 0===e?void 0:e.length){var t=Object.keys(e[0].filters).map((function(e){return{label:e,value:"",operator:"",checked:!1}}));b(t)}else b([])}(e),function(e){if(Array.isArray(e)&&(null===e||void 0===e?void 0:e.length)){var t={};e.forEach((function(r){var n=r.filters;Object.keys(n).forEach((function(r){var a;t[r]={val:parseFloat((null===(a=t[r])||void 0===a?void 0:a.val)||0)+parseFloat(n[r]||0),len:e.length}}))})),N(t)}}(e)}catch(t){alert("Invlaid JSON")}}}),l&&l.length>0&&Object(y.jsx)(L,{average:T,filtersList:j,updFilter:function(e,t,r){var n=Object(p.a)(j);n[e][t]=r,b(n)},addToSearch:function(e){var t=0,r=e.reduce((function(e,r){if(r.checked){t++;var n=Object(v.a)({},r.label,{value:r.value,operator:r.operator});return Object(O.a)(Object(O.a)({},e),n)}return e}),{});S(t),g(r)}}),l&&l.length>0&&Object(y.jsxs)("h5",{children:["Filters added: ",F]}),l&&l.length>0&&Object(y.jsx)(J,{updAvg:function(e,t,r){var n=parseFloat(r)||0,a=JSON.parse(JSON.stringify(T));a[t].val="sub"===e?a[t].val-n:parseFloat(a[t].val)+n,a[t].len="sub"===e?a[t].len-1:parseFloat(a[t].len)+1,N(a)},average:T,stocks:l,searchParams:f,deleteStock:function(e){var t=[].concat(Object(p.a)(l.slice(0,e)),Object(p.a)(l.slice(e+1)));i(t)},filtersCnt:F}),Object(y.jsx)(V,{})]})},I=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,28)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,l=t.getTTFB;r(e),n(e),a(e),c(e),l(e)}))};h.a.render(Object(y.jsx)(b.a.StrictMode,{children:Object(y.jsx)(D,{})}),document.getElementById("root")),I()}},[[27,1,2]]]);
//# sourceMappingURL=main.8f2a31fd.chunk.js.map